<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Artvision Portal</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg-primary: #1a1a2e;
      --bg-secondary: #16213e;
      --bg-card: rgba(255,255,255,0.05);
      --border: rgba(255,255,255,0.08);
      --text-primary: #ffffff;
      --text-secondary: rgba(255,255,255,0.5);
      --accent: #3b82f6;
      --accent-light: #60a5fa;
      --success: #4ade80;
      --warning: #fbbf24;
      --danger: #f87171;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
      background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, #0f0f23 100%);
      min-height: 100vh;
      color: var(--text-primary);
      padding-bottom: 160px;
    }

    /* === LOGIN SCREEN === */
    .login-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      text-align: center;
    }
    .login-screen.hidden { display: none; }
    .login-logo { font-size: 48px; margin-bottom: 16px; }
    .login-title { font-size: 24px; font-weight: 700; margin-bottom: 8px; }
    .login-subtitle { color: var(--text-secondary); margin-bottom: 32px; }
    .login-btn {
      display: flex;
      align-items: center;
      gap: 12px;
      background: #54a9eb;
      color: #fff;
      border: none;
      padding: 14px 28px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, background 0.2s;
    }
    .login-btn:hover { background: #3d96d9; }
    .login-btn:active { transform: scale(0.98); }
    .login-btn svg { width: 24px; height: 24px; }

    /* === MAIN APP === */
    .app { display: none; }
    .app.active { display: block; }
    
    /* === HEADER === */
    .header {
      padding: 12px 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      position: sticky;
      top: 0;
      background: rgba(26, 26, 46, 0.98);
      backdrop-filter: blur(20px);
      z-index: 100;
      border-bottom: 1px solid var(--border);
    }
    
    .header-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .header-left { display: flex; align-items: center; gap: 12px; }
    
    .avatar {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 600;
    }
    
    .client-info { flex: 1; min-width: 0; }
    .client-name { font-size: 16px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .client-domain { font-size: 13px; color: var(--text-secondary); }
    
    .header-actions { display: flex; align-items: center; gap: 8px; }
    
    .icon-btn {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      opacity: 0.7;
      background: var(--bg-card);
      border: 1px solid var(--border);
      color: #fff;
      cursor: pointer;
      border-radius: 10px;
      transition: all 0.2s;
    }
    .icon-btn:active { transform: scale(0.95); opacity: 1; }
    .icon-btn.loading { animation: spin 1s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* === MODE TOGGLE === */
    .mode-toggle {
      display: flex;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 3px;
      gap: 2px;
    }
    .mode-btn {
      flex: 1;
      padding: 8px 16px;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .mode-btn.active {
      background: var(--accent);
      color: #fff;
    }

    /* === SITE SELECTOR === */
    .site-selector {
      position: relative;
    }
    .site-select {
      width: 100%;
      padding: 10px 14px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 10px;
      color: var(--text-primary);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' viewBox='0 0 16 16'%3E%3Cpath d='M4 6l4 4 4-4'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
    }
    .site-select option {
      background: var(--bg-secondary);
      color: var(--text-primary);
    }

    /* === CONTENT === */
    .content { padding: 0 16px; }
    .page { display: none; }
    .page.active { display: block; animation: fadeIn 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* === STATS === */
    .stats-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 16px 0; }
    
    .stat-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
    }
    
    .stat-label { font-size: 14px; color: var(--text-secondary); margin-bottom: 6px; }
    .stat-value { font-size: 32px; font-weight: 700; letter-spacing: -1px; }
    
    .stat-change {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-top: 4px;
      font-size: 14px;
      font-weight: 600;
    }
    .stat-change.up { color: var(--success); }
    .stat-change.down { color: var(--danger); }
    .stat-change svg { width: 12px; height: 12px; }

    /* === CHART CARD === */
    .chart-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 12px;
    }
    
    .chart-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; }
    .chart-title { font-size: 14px; color: var(--text-secondary); }
    .chart-value { font-size: 36px; font-weight: 700; letter-spacing: -1px; }
    
    .chart-container { height: 140px; }
    .chart-labels { 
      display: flex; 
      justify-content: space-between; 
      margin-top: 8px; 
      font-size: 11px; 
      color: var(--text-secondary);
    }

    /* === PROGRESS CARD === */
    .progress-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 12px;
    }
    .progress-header { display: flex; justify-content: space-between; margin-bottom: 12px; }
    .progress-title { font-size: 15px; font-weight: 600; }
    .progress-count { font-size: 14px; color: var(--text-secondary); }
    
    .progress-bar {
      height: 8px;
      background: var(--bg-secondary);
      border-radius: 4px;
      overflow: hidden;
      display: flex;
    }
    .progress-segment { height: 100%; transition: width 0.5s ease; }
    .progress-segment.achieved { background: var(--success); }
    .progress-segment.close { background: var(--warning); }
    .progress-segment.none { background: var(--danger); }
    
    .progress-legend {
      display: flex;
      gap: 16px;
      margin-top: 10px;
      font-size: 13px;
    }
    .progress-legend-item { display: flex; align-items: center; gap: 6px; color: var(--text-secondary); }
    .progress-legend-dot { width: 8px; height: 8px; border-radius: 50%; }

    /* === QUERIES === */
    .queries-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 12px;
    }
    
    .queries-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 14px; }
    .queries-title { font-size: 16px; font-weight: 600; }
    .queries-all { font-size: 14px; color: var(--accent-light); text-decoration: none; }
    
    .query-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
    }
    .query-item:last-child { border-bottom: none; padding-bottom: 0; }
    
    .query-position {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 700;
      flex-shrink: 0;
    }
    .query-position.top3 { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
    .query-position.top10 { background: rgba(74, 222, 128, 0.15); color: var(--success); }
    .query-position.top20 { background: rgba(96, 165, 250, 0.15); color: var(--accent-light); }
    .query-position.below { background: rgba(248, 113, 113, 0.15); color: var(--danger); }
    
    .query-info { flex: 1; min-width: 0; }
    .query-text { font-size: 14px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .query-stats { font-size: 12px; color: var(--text-secondary); margin-top: 2px; }
    
    .query-change { font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 2px; }
    .query-change.up { color: var(--success); }
    .query-change.down { color: var(--danger); }
    .query-change.neutral { color: var(--text-secondary); }

    /* === METRICS ROW === */
    .metrics-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 16px 0; }
    .metric-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
      text-align: center;
    }
    .metric-value { font-size: 24px; font-weight: 700; }
    .metric-label { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }
    .metric-card.warning .metric-value { color: var(--warning); }
    .metric-card.danger .metric-value { color: var(--danger); }

    /* === REPORTS === */
    .report-item {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 14px 16px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .report-icon { font-size: 28px; }
    .report-info { flex: 1; }
    .report-title { font-size: 15px; font-weight: 600; }
    .report-date { font-size: 12px; color: var(--text-secondary); margin-top: 2px; }
    .report-btn {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
    }

    /* === DOCUMENTS === */
    .doc-item {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 14px 16px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .doc-icon { font-size: 24px; }
    .doc-info { flex: 1; }
    .doc-title { font-size: 14px; font-weight: 600; }
    .doc-meta { font-size: 12px; color: var(--text-secondary); margin-top: 2px; }
    .doc-status { padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 600; }
    .doc-status.paid { background: rgba(74,222,128,0.15); color: var(--success); }
    .doc-status.pending { background: rgba(251,191,36,0.15); color: var(--warning); }

    /* === TIPS === */
    .tip-card {
      background: linear-gradient(135deg, rgba(59,130,246,0.15) 0%, rgba(139,92,246,0.15) 100%);
      border: 1px solid rgba(59,130,246,0.3);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 10px;
    }
    .tip-card.high { 
      background: linear-gradient(135deg, rgba(251,191,36,0.15) 0%, rgba(249,115,22,0.15) 100%);
      border-color: rgba(251,191,36,0.3);
    }
    
    .tip-header { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
    .tip-icon { font-size: 20px; }
    .tip-title { font-size: 15px; font-weight: 600; }
    .tip-text { font-size: 13px; color: var(--text-secondary); line-height: 1.5; }
    .tip-action {
      margin-top: 12px;
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 10px 18px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
    }

    /* === AGENT DASHBOARD === */
    .agent-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin: 16px 0; }
    .agent-stat {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 16px;
    }
    .agent-stat-value { font-size: 28px; font-weight: 700; }
    .agent-stat-label { font-size: 13px; color: var(--text-secondary); margin-top: 4px; }
    .agent-stat.success .agent-stat-value { color: var(--success); }
    .agent-stat.warning .agent-stat-value { color: var(--warning); }

    .clients-list { margin-top: 16px; }
    .client-item {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 14px 16px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .client-item:active { transform: scale(0.98); }
    .client-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 600;
    }
    .client-item-info { flex: 1; }
    .client-item-name { font-size: 15px; font-weight: 600; }
    .client-item-domain { font-size: 12px; color: var(--text-secondary); }
    .client-item-mrr { font-size: 14px; font-weight: 600; color: var(--success); }

    /* === TAB BAR === */
    .tab-bar {
      position: fixed;
      bottom: 70px;
      left: 0;
      right: 0;
      background: rgba(15, 15, 35, 0.98);
      backdrop-filter: blur(20px);
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-around;
      padding: 8px 0 10px;
      z-index: 100;
    }
    
    .tab-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      color: var(--text-secondary);
      font-size: 11px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px 12px;
      border-radius: 8px;
      transition: all 0.2s;
    }
    .tab-item.active { color: var(--accent-light); }
    .tab-item svg { width: 22px; height: 22px; }

    /* === CTA BUTTON === */
    .cta-wrap {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px 16px 20px;
      background: linear-gradient(180deg, transparent 0%, rgba(15, 15, 35, 0.98) 30%);
      z-index: 100;
    }
    
    .cta-btn {
      width: 100%;
      height: 52px;
      border-radius: 14px;
      background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
      border: none;
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
      transition: transform 0.2s;
    }
    .cta-btn:active { transform: scale(0.98); }

    /* === SECTION TITLE === */
    .section-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin: 18px 0 10px;
    }

    /* === LOADING === */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: var(--bg-primary);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .loading-overlay.hidden { display: none; }
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid var(--border);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    .loading-text { margin-top: 16px; color: var(--text-secondary); font-size: 14px; }

    /* === SERVICES BADGES === */
    .services-badges { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
    .service-badge {
      padding: 4px 10px;
      background: rgba(59,130,246,0.15);
      border-radius: 6px;
      font-size: 11px;
      color: var(--accent-light);
    }
  </style>
</head>
<body>

  <!-- LOADING -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
    <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  </div>

  <!-- LOGIN SCREEN (for web) -->
  <div class="login-screen" id="loginScreen">
    <div class="login-logo">üöÄ</div>
    <div class="login-title">Artvision Portal</div>
    <div class="login-subtitle">–í–æ–π–¥–∏—Ç–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º</div>
    <button class="login-btn" onclick="loginWithTelegram()">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/></svg>
      –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
    </button>
  </div>

  <!-- MAIN APP -->
  <div class="app" id="mainApp">
    
    <!-- HEADER -->
    <header class="header">
      <div class="header-top">
        <div class="header-left">
          <div class="avatar" id="avatar">–¢</div>
          <div class="client-info">
            <div class="client-name" id="clientName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div class="client-domain" id="clientDomain">‚Äî</div>
          </div>
        </div>
        <div class="header-actions">
          <button class="icon-btn" onclick="refresh()" id="refreshBtn">‚Üª</button>
          <button class="icon-btn" onclick="showSettings()">‚öô</button>
        </div>
      </div>
      
      <!-- Mode Toggle (only for agents) -->
      <div class="mode-toggle" id="modeToggle" style="display: none;">
        <button class="mode-btn active" data-mode="agent" onclick="setMode('agent')">üë§ –ê–≥–µ–Ω—Ç</button>
        <button class="mode-btn" data-mode="client" onclick="setMode('client')">üè¢ –ö–ª–∏–µ–Ω—Ç</button>
      </div>
      
      <!-- Site Selector (for agents in client mode) -->
      <div class="site-selector" id="siteSelector" style="display: none;">
        <select class="site-select" id="siteSelect" onchange="selectSite(this.value)">
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–π—Ç...</option>
        </select>
      </div>
    </header>

    <div class="content">
      
      <!-- PAGE: –û–±–∑–æ—Ä -->
      <div class="page active" id="page-overview">
        
        <!-- Agent Dashboard (hidden for clients) -->
        <div id="agentDashboard" style="display: none;">
          <div class="agent-stats">
            <div class="agent-stat success">
              <div class="agent-stat-value" id="agentMRR">165 000 ‚ÇΩ</div>
              <div class="agent-stat-label">MRR</div>
            </div>
            <div class="agent-stat">
              <div class="agent-stat-value" id="agentClients">5</div>
              <div class="agent-stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</div>
            </div>
            <div class="agent-stat warning">
              <div class="agent-stat-value" id="agentPresale">2</div>
              <div class="agent-stat-label">Presale</div>
            </div>
            <div class="agent-stat">
              <div class="agent-stat-value" id="agentTasks">3</div>
              <div class="agent-stat-label">–ó–∞–¥–∞—á</div>
            </div>
          </div>
          
          <div class="section-title">–ö–ª–∏–µ–Ω—Ç—ã</div>
          <div class="clients-list" id="clientsList"></div>
        </div>
        
        <!-- Client Dashboard -->
        <div id="clientDashboard">
          <div class="stats-row">
            <div class="stat-card">
              <div class="stat-label">–ü–æ–∫–∞–∑—ã</div>
              <div class="stat-value" id="statShows">‚Äî</div>
              <div class="stat-change up" id="changeShows">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M18 15l-6-6-6 6"/></svg>
                <span>‚Äî</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-label">–ö–ª–∏–∫–∏</div>
              <div class="stat-value" id="statClicks">‚Äî</div>
              <div class="stat-change up" id="changeClicks">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M18 15l-6-6-6 6"/></svg>
                <span>‚Äî</span>
              </div>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">–°—Ä–µ–¥–Ω—è—è –ø–æ–∑–∏—Ü–∏—è</div>
                <div class="chart-value" id="statPosition">‚Äî</div>
              </div>
              <div class="stat-change up" id="changePosition">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" style="width:12px;height:12px"><path d="M18 15l-6-6-6 6"/></svg>
                <span>‚Äî</span>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="positionsChart"></canvas>
            </div>
            <div class="chart-labels" id="chartLabels"></div>
          </div>

          <div class="progress-card">
            <div class="progress-header">
              <div class="progress-title">–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º</div>
              <div class="progress-count" id="progressCount">‚Äî –∏–∑ ‚Äî</div>
            </div>
            <div class="progress-bar">
              <div class="progress-segment achieved" id="progressAchieved" style="width: 0%"></div>
              <div class="progress-segment close" id="progressClose" style="width: 0%"></div>
              <div class="progress-segment none" id="progressNone" style="width: 0%"></div>
            </div>
            <div class="progress-legend">
              <div class="progress-legend-item">
                <div class="progress-legend-dot" style="background: var(--success)"></div>
                <span id="legendAchieved">‚Äî –≤ —Ü–µ–ª–∏</span>
              </div>
              <div class="progress-legend-item">
                <div class="progress-legend-dot" style="background: var(--warning)"></div>
                <span id="legendClose">‚Äî –±–ª–∏–∑–∫–æ</span>
              </div>
              <div class="progress-legend-item">
                <div class="progress-legend-dot" style="background: var(--danger)"></div>
                <span id="legendNone">‚Äî –Ω–µ—Ç</span>
              </div>
            </div>
          </div>

          <div class="metrics-row">
            <div class="metric-card">
              <div class="metric-value" id="metricSQI">‚Äî</div>
              <div class="metric-label">SQI</div>
            </div>
            <div class="metric-card">
              <div class="metric-value" id="metricIndexed">‚Äî</div>
              <div class="metric-label">–í –∏–Ω–¥–µ–∫—Å–µ</div>
            </div>
            <div class="metric-card" id="metricProblemsCard">
              <div class="metric-value" id="metricProblems">‚Äî</div>
              <div class="metric-label">–ü—Ä–æ–±–ª–µ–º</div>
            </div>
          </div>

          <div class="queries-card">
            <div class="queries-header">
              <div class="queries-title">–¢–æ–ø –∑–∞–ø—Ä–æ—Å—ã</div>
              <a href="#" class="queries-all" onclick="setTab('positions'); return false;">–í—Å–µ ‚Üí</a>
            </div>
            <div id="topQueries"></div>
          </div>
        </div>
      </div>

      <!-- PAGE: –ü–æ–∑–∏—Ü–∏–∏ -->
      <div class="page" id="page-positions">
        <div class="section-title">–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã</div>
        <div id="allQueries"></div>
      </div>

      <!-- PAGE: –û—Ç—á—ë—Ç—ã -->
      <div class="page" id="page-reports">
        <div class="section-title">SEO –û—Ç—á—ë—Ç—ã</div>
        <div id="reportsList"></div>
        
        <div class="section-title">–î–æ–∫—É–º–µ–Ω—Ç—ã</div>
        <div id="docsList"></div>
      </div>

      <!-- PAGE: –°–æ–≤–µ—Ç—ã -->
      <div class="page" id="page-tips">
        <div class="section-title">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–æ—Å—Ç—É</div>
        <div id="tipsList"></div>
      </div>

    </div>

    <!-- TAB BAR -->
    <nav class="tab-bar">
      <button class="tab-item active" onclick="setTab('overview')" data-tab="overview">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"/><path d="M18 9l-5 5-4-4-3 3"/></svg>
        <span>–û–±–∑–æ—Ä</span>
      </button>
      <button class="tab-item" onclick="setTab('positions')" data-tab="positions">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 17l6-6 4 4 8-8"/><path d="M17 7h4v4"/></svg>
        <span>–ü–æ–∑–∏—Ü–∏–∏</span>
      </button>
      <button class="tab-item" onclick="setTab('reports')" data-tab="reports">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 9h6M9 13h6M9 17h4"/></svg>
        <span>–û—Ç—á—ë—Ç—ã</span>
      </button>
      <button class="tab-item" onclick="setTab('tips')" data-tab="tips">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21h6M12 3a6 6 0 0 0-3 11.2V17h6v-2.8A6 6 0 0 0 12 3z"/></svg>
        <span>–°–æ–≤–µ—Ç—ã</span>
      </button>
    </nav>

    <!-- CTA BUTTON -->
    <div class="cta-wrap">
      <button class="cta-btn" onclick="openChat()">
        üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É
      </button>
    </div>
  </div>

  <script>
    // ========================================
    // CONFIG
    // ========================================
    const CONFIG = {
      apiBase: 'https://artvision-portal.vercel.app/api',
      botUsername: 'avportalbot',
      supportChat: 'artvision_support'
    };

    // ========================================
    // STATE
    // ========================================
    let STATE = {
      user: null,
      role: null, // 'owner', 'agent', 'client'
      mode: 'client', // 'agent' or 'client' view
      currentSite: null,
      sites: {},
      data: null
    };

    let chart = null;

    // ========================================
    // TELEGRAM
    // ========================================
    const tg = window.Telegram?.WebApp;

    async function init() {
      console.log('[Portal] Initializing...');
      
      if (tg && tg.initDataUnsafe?.user) {
        // Mini App mode
        console.log('[Portal] Telegram Mini App detected');
        tg.ready();
        tg.expand();
        
        STATE.user = {
          id: tg.initDataUnsafe.user.id,
          username: tg.initDataUnsafe.user.username,
          firstName: tg.initDataUnsafe.user.first_name
        };
        
        await loadUserData();
        showApp();
      } else {
        // Web mode - need login
        console.log('[Portal] Web mode - showing login');
        hideLoading();
        document.getElementById('loginScreen').classList.remove('hidden');
      }
    }

    function loginWithTelegram() {
      // Telegram Login Widget (simplified - redirect to bot)
      const botUrl = `https://t.me/${CONFIG.botUsername}?start=login`;
      window.open(botUrl, '_blank');
      
      // For demo - simulate login
      if (confirm('–î–µ–º–æ-—Ä–µ–∂–∏–º: –≤–æ–π—Ç–∏ –∫–∞–∫ –∞–≥–µ–Ω—Ç?')) {
        STATE.user = { id: 161261652, username: 'justtrance', firstName: '–ö–∏—Ä–∏–ª–ª' };
        loadUserData().then(showApp);
      }
    }

    async function loadUserData() {
      // Load user config from GitHub (via API proxy or direct)
      try {
        const response = await fetch('https://raw.githubusercontent.com/justtrance-web/artvision-data/main/portal/users.json');
        const data = await response.json();
        
        STATE.sites = data.sites;
        
        // Find user role
        const agents = data.users.agents || [];
        const agent = agents.find(a => 
          a.telegram_id === STATE.user?.id || 
          a.telegram_username === STATE.user?.username
        );
        
        if (agent) {
          STATE.role = agent.role; // 'owner' or 'agent'
          STATE.mode = 'agent';
        } else {
          // Check if client
          const clients = data.users.clients || [];
          const client = clients.find(c => 
            c.telegram_id === STATE.user?.id ||
            c.telegram_username === STATE.user?.username
          );
          
          if (client) {
            STATE.role = 'client';
            STATE.mode = 'client';
            STATE.currentSite = client.sites?.[0];
          } else {
            // Unknown user - demo mode
            STATE.role = 'agent';
            STATE.mode = 'agent';
          }
        }
        
        console.log('[Portal] User role:', STATE.role, 'Mode:', STATE.mode);
        
      } catch (e) {
        console.error('[Portal] Failed to load user data:', e);
        // Fallback to demo
        STATE.role = 'agent';
        STATE.mode = 'agent';
      }
    }

    function showApp() {
      hideLoading();
      document.getElementById('loginScreen').classList.add('hidden');
      document.getElementById('mainApp').classList.add('active');
      
      // Setup UI based on role
      if (STATE.role === 'owner' || STATE.role === 'agent') {
        document.getElementById('modeToggle').style.display = 'flex';
      }
      
      setMode(STATE.mode);
    }

    function hideLoading() {
      document.getElementById('loadingOverlay').classList.add('hidden');
    }

    // ========================================
    // MODE & SITE SELECTION
    // ========================================
    function setMode(mode) {
      STATE.mode = mode;
      
      // Update toggle
      document.querySelectorAll('.mode-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.mode === mode);
      });
      
      if (mode === 'agent') {
        document.getElementById('siteSelector').style.display = 'none';
        document.getElementById('agentDashboard').style.display = 'block';
        document.getElementById('clientDashboard').style.display = 'none';
        renderAgentDashboard();
      } else {
        document.getElementById('siteSelector').style.display = 'block';
        document.getElementById('agentDashboard').style.display = 'none';
        document.getElementById('clientDashboard').style.display = 'block';
        populateSiteSelector();
        
        if (STATE.currentSite) {
          loadSiteData(STATE.currentSite);
        }
      }
      
      updateHeader();
    }

    function populateSiteSelector() {
      const select = document.getElementById('siteSelect');
      select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–π—Ç...</option>';
      
      Object.entries(STATE.sites).forEach(([domain, site]) => {
        if (site.status === 'active') {
          const opt = document.createElement('option');
          opt.value = domain;
          opt.textContent = `${site.name} (${domain})`;
          if (domain === STATE.currentSite) opt.selected = true;
          select.appendChild(opt);
        }
      });
    }

    function selectSite(domain) {
      if (!domain) return;
      STATE.currentSite = domain;
      loadSiteData(domain);
    }

    function updateHeader() {
      const site = STATE.sites[STATE.currentSite];
      
      if (STATE.mode === 'agent') {
        document.getElementById('clientName').textContent = STATE.user?.firstName || '–ê–≥–µ–Ω—Ç';
        document.getElementById('clientDomain').textContent = 'Artvision Agency';
        document.getElementById('avatar').textContent = (STATE.user?.firstName || 'A')[0];
        document.getElementById('avatar').style.background = 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)';
      } else if (site) {
        document.getElementById('clientName').textContent = site.name;
        document.getElementById('clientDomain').textContent = STATE.currentSite;
        document.getElementById('avatar').textContent = site.name[0];
        document.getElementById('avatar').style.background = `linear-gradient(135deg, ${site.color} 0%, ${site.color}99 100%)`;
      }
    }

    // ========================================
    // RENDER FUNCTIONS
    // ========================================
    function renderAgentDashboard() {
      // Calculate totals
      let totalMRR = 0;
      let activeCount = 0;
      let presaleCount = 0;
      
      const clientsHtml = [];
      
      Object.entries(STATE.sites).forEach(([domain, site]) => {
        if (site.status === 'active') {
          totalMRR += site.mrr || 0;
          activeCount++;
        } else if (site.status === 'presale') {
          presaleCount++;
        }
        
        clientsHtml.push(`
          <div class="client-item" onclick="selectSiteAndSwitch('${domain}')">
            <div class="client-avatar" style="background: ${site.color}">${site.name[0]}</div>
            <div class="client-item-info">
              <div class="client-item-name">${site.name}</div>
              <div class="client-item-domain">${domain}</div>
              <div class="services-badges">
                ${(site.services || []).map(s => `<span class="service-badge">${getServiceName(s)}</span>`).join('')}
              </div>
            </div>
            ${site.mrr ? `<div class="client-item-mrr">${site.mrr.toLocaleString()} ‚ÇΩ</div>` : ''}
          </div>
        `);
      });
      
      document.getElementById('agentMRR').textContent = totalMRR.toLocaleString() + ' ‚ÇΩ';
      document.getElementById('agentClients').textContent = activeCount;
      document.getElementById('agentPresale').textContent = presaleCount;
      document.getElementById('clientsList').innerHTML = clientsHtml.join('');
      
      updateHeader();
    }

    function selectSiteAndSwitch(domain) {
      STATE.currentSite = domain;
      setMode('client');
      document.getElementById('siteSelect').value = domain;
    }

    function getServiceName(code) {
      const names = {
        seo: 'SEO',
        ppc: 'PPC',
        reviews: '–û—Ç–∑—ã–≤—ã',
        maps: '–ö–∞—Ä—Ç—ã',
        seo_tz: '–¢–ó',
        pages: '–°—Ç—Ä–∞–Ω–∏—Ü—ã',
        content: '–ö–æ–Ω—Ç–µ–Ω—Ç'
      };
      return names[code] || code;
    }

    async function loadSiteData(domain) {
      console.log('[Portal] Loading data for:', domain);
      
      const site = STATE.sites[domain];
      if (!site) return;
      
      updateHeader();
      
      // For demo - use mock data
      // In production - call Webmaster API
      const mockData = generateMockData(domain, site);
      STATE.data = mockData;
      
      renderClientDashboard(mockData);
    }

    function generateMockData(domain, site) {
      // Generate realistic mock data
      const today = new Date();
      const days = [];
      const positions = [];
      
      for (let i = 6; i >= 0; i--) {
        const d = new Date(today);
        d.setDate(d.getDate() - i);
        const dayNames = ['–í—Å', '–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±'];
        days.push({
          day: dayNames[d.getDay()],
          date: d.getDate().toString().padStart(2, '0') + '.' + (d.getMonth() + 1).toString().padStart(2, '0')
        });
        positions.push(Math.floor(Math.random() * 10) + 5); // 5-15
      }
      
      return {
        stats: {
          shows: { value: Math.floor(Math.random() * 500) + 50, change: Math.floor(Math.random() * 40) - 10 },
          clicks: { value: Math.floor(Math.random() * 50) + 5, change: Math.floor(Math.random() * 30) - 5 },
          position: { value: (Math.random() * 10 + 5).toFixed(1), change: Math.floor(Math.random() * 20) - 5 }
        },
        chartDays: days,
        chartPositions: positions,
        progress: {
          total: 12,
          achieved: 5,
          close: 4,
          none: 3
        },
        metrics: {
          sqi: Math.floor(Math.random() * 30) + 10,
          indexed: Math.floor(Math.random() * 500) + 100,
          problems: Math.floor(Math.random() * 5)
        },
        queries: [
          { q: site.name.toLowerCase(), pos: 1.2, shows: 15, clicks: 8, change: 2 },
          { q: domain.replace('.ru', '').replace('.com', ''), pos: 2.5, shows: 12, clicks: 5, change: 1 },
          { q: '–∫—É–ø–∏—Ç—å ' + (site.services?.[0] || '—É—Å–ª—É–≥—É'), pos: 8.3, shows: 25, clicks: 3, change: -2 },
          { q: site.name + ' –æ—Ç–∑—ã–≤—ã', pos: 3.1, shows: 8, clicks: 2, change: 0 },
          { q: site.name + ' —Ü–µ–Ω—ã', pos: 15.2, shows: 18, clicks: 1, change: 3 }
        ]
      };
    }

    function renderClientDashboard(data) {
      // Stats
      document.getElementById('statShows').textContent = data.stats.shows.value.toLocaleString();
      document.getElementById('statClicks').textContent = data.stats.clicks.value.toLocaleString();
      document.getElementById('statPosition').textContent = data.stats.position.value;
      
      updateChange('changeShows', data.stats.shows.change);
      updateChange('changeClicks', data.stats.clicks.change);
      updateChange('changePosition', data.stats.position.change, true);
      
      // Progress
      const p = data.progress;
      document.getElementById('progressCount').textContent = `${p.achieved} –∏–∑ ${p.total}`;
      document.getElementById('progressAchieved').style.width = (p.achieved / p.total * 100) + '%';
      document.getElementById('progressClose').style.width = (p.close / p.total * 100) + '%';
      document.getElementById('progressNone').style.width = (p.none / p.total * 100) + '%';
      document.getElementById('legendAchieved').textContent = `${p.achieved} –≤ —Ü–µ–ª–∏`;
      document.getElementById('legendClose').textContent = `${p.close} –±–ª–∏–∑–∫–æ`;
      document.getElementById('legendNone').textContent = `${p.none} –Ω–µ—Ç`;
      
      // Metrics
      document.getElementById('metricSQI').textContent = data.metrics.sqi;
      document.getElementById('metricIndexed').textContent = data.metrics.indexed;
      document.getElementById('metricProblems').textContent = data.metrics.problems;
      
      if (data.metrics.problems > 0) {
        document.getElementById('metricProblemsCard').classList.add('warning');
      }
      
      // Chart
      renderChart(data.chartDays, data.chartPositions);
      
      // Queries
      document.getElementById('topQueries').innerHTML = data.queries.slice(0, 3).map(renderQueryItem).join('');
    }

    function updateChange(elementId, change, inverse = false) {
      const el = document.getElementById(elementId);
      const isPositive = inverse ? change < 0 : change > 0;
      
      el.className = 'stat-change ' + (isPositive ? 'up' : (change < 0 ? 'down' : ''));
      el.querySelector('span').textContent = Math.abs(change) + '%';
      
      const svg = el.querySelector('svg');
      if (svg) {
        svg.innerHTML = isPositive ? 
          '<path d="M18 15l-6-6-6 6"/>' : 
          '<path d="M6 9l6 6 6-6"/>';
      }
    }

    function renderChart(days, positions) {
      const ctx = document.getElementById('positionsChart').getContext('2d');
      
      if (chart) chart.destroy();
      
      // Labels
      document.getElementById('chartLabels').innerHTML = days.map(d => 
        `<span>${d.day} ${d.date}</span>`
      ).join('');
      
      chart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: days.map(d => d.day),
          datasets: [{
            data: positions,
            backgroundColor: positions.map(p => 
              p <= 3 ? '#fbbf24' : p <= 10 ? '#4ade80' : p <= 20 ? '#60a5fa' : '#f87171'
            ),
            borderRadius: 6,
            barThickness: 28
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          indexAxis: 'x',
          scales: {
            y: {
              reverse: true,
              min: 1,
              max: Math.max(...positions) + 5,
              grid: { color: 'rgba(255,255,255,0.05)' },
              ticks: { display: false }
            },
            x: { grid: { display: false }, ticks: { display: false } }
          },
          plugins: { legend: { display: false }, tooltip: { enabled: true } }
        }
      });
    }

    function renderQueryItem(q) {
      let posClass = 'below';
      if (q.pos <= 3) posClass = 'top3';
      else if (q.pos <= 10) posClass = 'top10';
      else if (q.pos <= 20) posClass = 'top20';
      
      let changeHtml = '<span class="query-change neutral">‚Äî</span>';
      if (q.change > 0) {
        changeHtml = `<span class="query-change up">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" style="width:12px;height:12px"><path d="M18 15l-6-6-6 6"/></svg>
          ${q.change}
        </span>`;
      } else if (q.change < 0) {
        changeHtml = `<span class="query-change down">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" style="width:12px;height:12px"><path d="M6 9l6 6 6-6"/></svg>
          ${Math.abs(q.change)}
        </span>`;
      }
      
      return `
        <div class="query-item">
          <div class="query-position ${posClass}">${Math.round(q.pos)}</div>
          <div class="query-info">
            <div class="query-text">${q.q}</div>
            <div class="query-stats">${q.shows} –ø–æ–∫–∞–∑–æ–≤ ¬∑ ${q.clicks} –∫–ª–∏–∫–æ–≤</div>
          </div>
          ${changeHtml}
        </div>
      `;
    }

    // ========================================
    // TABS & PAGES
    // ========================================
    function setTab(tabId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById('page-' + tabId).classList.add('active');
      
      document.querySelectorAll('.tab-item').forEach(t => {
        t.classList.toggle('active', t.dataset.tab === tabId);
      });
      
      if (tabId === 'positions' && STATE.data) renderPositions();
      if (tabId === 'reports') renderReports();
      if (tabId === 'tips') renderTips();
    }

    function renderPositions() {
      if (!STATE.data) return;
      document.getElementById('allQueries').innerHTML = STATE.data.queries.map(renderQueryItem).join('');
    }

    function renderReports() {
      const reports = [
        { title: 'SEO –æ—Ç—á—ë—Ç ‚Äî –î–µ–∫–∞–±—Ä—å 2025', date: '28.12.2025', type: 'seo' },
        { title: '–ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω Q1 2026', date: '20.12.2025', type: 'plan' },
        { title: '–ê—É–¥–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π', date: '15.12.2025', type: 'audit' }
      ];
      
      const icons = { seo: 'üìä', plan: 'üìã', audit: 'üîç' };
      
      document.getElementById('reportsList').innerHTML = reports.map(r => `
        <div class="report-item">
          <div class="report-icon">${icons[r.type]}</div>
          <div class="report-info">
            <div class="report-title">${r.title}</div>
            <div class="report-date">${r.date}</div>
          </div>
          <button class="report-btn">–û—Ç–∫—Ä—ã—Ç—å</button>
        </div>
      `).join('');
      
      const docs = [
        { title: '–°—á—ë—Ç #2025-089', amount: '45 000 ‚ÇΩ', date: '20.12.2025', status: 'pending' },
        { title: '–ê–∫—Ç #2025-088', amount: '45 000 ‚ÇΩ', date: '01.12.2025', status: 'paid' }
      ];
      
      document.getElementById('docsList').innerHTML = docs.map(doc => `
        <div class="doc-item">
          <div class="doc-icon">${doc.status === 'paid' ? '‚úÖ' : 'üìÑ'}</div>
          <div class="doc-info">
            <div class="doc-title">${doc.title}</div>
            <div class="doc-meta">${doc.amount} ¬∑ ${doc.date}</div>
          </div>
          <div class="doc-status ${doc.status}">${doc.status === 'paid' ? '–û–ø–ª–∞—á–µ–Ω' : '–û–∂–∏–¥–∞–µ—Ç'}</div>
        </div>
      `).join('');
    }

    function renderTips() {
      const tips = [
        { title: '–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —É—Å–ª—É–≥–∏', text: '–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª 120+ –ø–æ–∫–∞–∑–æ–≤/–º–µ—Å', priority: 'high', action: '–°–æ–∑–¥–∞—Ç—å –¢–ó' },
        { title: '–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Title', text: 'Title —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –°–æ–∫—Ä–∞—Ç–∏—Ç–µ –¥–æ 60 —Å–∏–º–≤–æ–ª–æ–≤', priority: 'medium', action: '–ü–æ–¥—Ä–æ–±–Ω–µ–µ' },
        { title: '–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤—ã', text: '–î–æ–±–∞–≤–ª–µ–Ω–∏–µ 3-5 –æ—Ç–∑—ã–≤–æ–≤ —É–≤–µ–ª–∏—á–∏—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏—é –Ω–∞ 15-20%', priority: 'medium', action: '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è' }
      ];
      
      document.getElementById('tipsList').innerHTML = tips.map(tip => `
        <div class="tip-card ${tip.priority === 'high' ? 'high' : ''}">
          <div class="tip-header">
            <div class="tip-icon">${tip.priority === 'high' ? 'üî•' : 'üí°'}</div>
            <div class="tip-title">${tip.title}</div>
          </div>
          <div class="tip-text">${tip.text}</div>
          <button class="tip-action">${tip.action}</button>
        </div>
      `).join('');
    }

    // ========================================
    // ACTIONS
    // ========================================
    function refresh() {
      const btn = document.getElementById('refreshBtn');
      btn.classList.add('loading');
      
      setTimeout(() => {
        btn.classList.remove('loading');
        if (STATE.currentSite) {
          loadSiteData(STATE.currentSite);
        } else if (STATE.mode === 'agent') {
          renderAgentDashboard();
        }
      }, 1000);
    }

    function openChat() {
      const url = `https://t.me/${CONFIG.supportChat}`;
      if (tg) {
        tg.openTelegramLink(url);
      } else {
        window.open(url, '_blank');
      }
    }

    function showSettings() {
      if (tg) {
        tg.showAlert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
      } else {
        alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
      }
    }

    // ========================================
    // INIT
    // ========================================
    init();
  </script>
</body>
</html>
